<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Josh's Portfolio - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="styles/style.css">
    <link
      rel="icon"
      href="/images/turtle-logo.jpeg"
      type="image/icon type"
    />
</head>
<body>
    <div class="container">
        
        <div class="profile">
            <img src="/images/turtle-logo.jpeg" alt="Profile Picture" class="pfp">
            <div class="info">
                <h1>Josh Worthington</h1>
                <div class="links">
                    <a href="https://github.com/i-suck-at-most-stuff" target="_blank"><i class="fab fa-github"></i></a>
                    <a href="https://i-suck-at-most-stuff.itch.io/" target="_blank"><i class="fab fa-itch-io"></i></a>
                    <a href="https://www.instagram.com/i_suck_at_most_stuff/" target="_blank"><i class="fab fa-instagram"></i></a>
                    
                  <!-- Add this once i turn 16 <a href="https://linkedin.com/in/yourprofile" target="_blank"><i class="fab fa-linkedin"></i></a>-->
                </div>
            </div>
        </div>

        <hr class="divider">

        
        <div class="description">
            <p>Hi, I&#39;m Josh! I know HTML, CSS, and JavaScript, and I'm currently learning Swift, Python, and Godot. I enjoy creating websites and developing short games. <br><br> One of my achievements is developing a <a href="https://teamtripwire.glitch.me" class="squiggly-link">local offender tracker called Tripwire</a>, which won a school competition. I also run the <a href="https://barracoders.com/" class="squiggly-link">Beachside Barracoder's coding club</a>, where we collaborate on various projects, and I'm a member of <a href="https://hackclub.com/" class="squiggly-link">Hack Club International.</a> I&#39;m excited to continue my coding journey and explore new possibilities!</p></div>
            <br>
            <br>
            
            <p>What I'm Listening To:</p>
            <div class="newcenter">
            <div class="now-playing" id="nowPlaying">
                <p>Loading now playing...</p>
              </div>
            </div>
        <hr class="divider">

        
        <div class="tabs">
            
            <a href="/projects.html">Projects</a>
            <a href="#">More</a>
        </div>
    </div>

    
    <footer>
        <p>Made by Joshua Worthington</p>
    </footer>
    <script>
        const username = 'JoshIsYes'; // Replace with your Last.fm username
        const apiKey = '152dd7341991a250c5e0b7092879abd9';    // Replace with your Last.fm API key
        const apiUrl = `https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=${username}&api_key=${apiKey}&format=json&limit=1`;
      
        async function fetchNowPlaying() {
    try {
      const response = await fetch(apiUrl);
      const data = await response.json();

      // Check if there's a recent track and if it's currently playing
      const track = data.recenttracks.track[0];
      const nowPlayingDiv = document.getElementById('nowPlaying');
      
      if (track && track['@attr'] && track['@attr'].nowplaying) {
        const artist = track.artist['#text'];
        const songTitle = track.name;
        const albumCover = track.image[2]['#text'] || ''; // Medium size image

        nowPlayingDiv.innerHTML = `
          <img src="${albumCover}" alt="Album cover">
          <div class="track-info">
            <p class="song-title">${songTitle}</p>
            <p class="artist-name">${artist}</p>
          </div>
        `;
      } else {
        nowPlayingDiv.innerHTML = `<p>No song currently playing</p>`;
      }
    } catch (error) {
      console.error('Error fetching now playing data:', error);
      document.getElementById('nowPlaying').innerHTML = `<p>Unable to load now playing data</p>`;
    }
  }

  // Fetch now playing data every 30 seconds
  fetchNowPlaying();
  setInterval(fetchNowPlaying, 30000);
      </script>
</body>
</html>

